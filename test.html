<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML xmlns:fb="http://www.facebook.com/2008/fbml">
<HEAD>
<SCRIPT SRC="http://code.jquery.com/jquery-1.7.2.js" type="text/javascript"></SCRIPT>
<!-- Alan : added "type='text/javascript'" -->

<script type='text/javascript'>  // Alan : added "type='text/javascript'" 

//note : Sat Jan 26 08:37:42 SGT 2013

/*
<!--//
Get the data using ajax
//-->
*/

// Alan
// Invlid Javascript multiple line commnet
// should be use /* */
/*
Get the data using ajax
*/

/*
 Alan
 1. Need to put the necessay jquery code in to $().ready or $(document).ready() function
 2. This is to ensure the DOM document is fully loaded before being execute, otherwise will not be executed sucessfully
 3. Assumption : The return result should be inserted in "div.result" HTML element, instead of "dev.InfoDiv"
 4. Process and format the return JSON encoded data, before directly insert into the "div.result" element (Assumption)
 
*/
$().ready(function() {
  $.getJSON(
      "/getinfo/1", 
      function(data)
      {
         var row = '';
         $.each(data, function(key,val){
            row +=  "<tr><td>" + key +"</td><td> " +  val + "</td></tr>";
         });
       
        output = "<table border='1'>" +
                 "<tr><th>Field</th><th>Value</th></tr>" +
                 row + 
                 "</table>"
                $('.result').html(output);
    });
});

/*
$.get(
    "/getinfo/111", {},
    function(data) { $('.InfoDiv').html(data); }
);
*/
</script>
</HEAD>


<BODY>
<H1><FONT FACE="verdana" COLOR="green">Welcome</FONT></H1>
<CENTER><div class="InfoDiv"></div></CENTER> <!-- Alan : The following DIV element seems redundant. -->
<!--
Alan :
1. <FONT> tag is deprecated in HTML 4.01.  Should replace these with CSS equivalent for ease of future upgrade and support.
2. <CENTER> tag is deprecated in HTML 4.01.  Should replace these with CSS equivalent for ease of future upgrade and support.
-->
</BODY>
<DIV ID="fb-root"></DIV>  <!-- Alan : The following DIV element seems redundant. -->
<div class='result'></div>
<SCRIPT></SCRIPT>  <!-- Alan : The following SCRIPT element seems redundant. -->
</HTML>
